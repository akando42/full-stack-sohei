<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, intial-scale=1.0" />
	<title> Content Producer </title>
    
    <!-- Netlify Identity Widget CDN -->
	<script type="text/javascript" src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>

<body>
	<!-- Netlify CMS -->
	<script src="https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js">
	</script>

	<script type="text/javascript">
		CMS.registerEditorComponent({
			// Internal ID of the Component
			id: "youtube",
			label: "Mytube",
			fields: [
			    name: "id",
			    label: "Youtube Video ID",
			    widget: "string"
			],
			pattern: /^youtube (\S+)$/,
			// Extracting the Youtube ID
			fromBlock: function(match){
				return {
					id: match[1]
				};
			},
			// Generating the Complete Link
			toBlock: function(obj){
				return 'youtube'+obj.id;
			},
			
			// Generating the Preview
			toPreview: function(obj){
				return (
					'<img src="http://img.youtube.com/vi/'+obj.id++ '/maxresdefault.jpg" alt="Youtube Video"/>'
				);
			}
		});
	</script>
</body>
</html>